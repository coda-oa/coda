{% extends "base.html" %}
{% block content %}
    <div class="flex justify-between align-center my-2">
        <h1>Funding Requests</h1>
        <a href="{% url "fundingrequests:create_submitter" %}"
           class="secondary"
           role="button">New</a>
    </div>
    <div class="my-2">{% include "fundingrequests/forms/fundingrequest_filter.html" %}</div>
    <ul class="no-decoration grid-container">
        {% for fr in funding_requests %}
            <li>
                <article class="{% if fr.is_open %}  fundingrequest__open  {% elif fr.is_approved %}  fundingrequest__approved  {% elif fr.is_rejected %}  fundingrequest__rejected  {% endif %}">
                    <p class="fundingrequest__title">
                        <a href="{{ fr.get_absolute_url }}">{{ fr.publication.title }}</a>
                    </p>
                    <p>Submitted by: {{ fr.submitter.name }}</p>
                    <p>
                        Journal: <a href="{{ fr.publication.journal.get_absolute_url }}">{{ fr.publication.journal.title }}</a>
                    </p>
                    <p class="mt-1_5">
                        <small>
                            {% if fr.is_open %}
                                <span class="pill fundingrequest__status-label">Open</span>
                            {% elif fr.is_approved %}
                                <span class="pill fundingrequest__status-label">Approved</span>
                            {% elif fr.is_rejected %}
                                <span class="pill fundingrequest__status-label">Rejected</span>
                            {% endif %}
                        </small>
                    </p>
                </article>
            </li>
        {% endfor %}
    </ul>
    {% include "partials/pagination_nav.html" %}
{% endblock content %}
